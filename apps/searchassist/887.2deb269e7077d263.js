"use strict";(self.webpackChunksearchassist=self.webpackChunksearchassist||[]).push([[887],{35887:(y,r,o)=>{o.r(r),o.d(r,{SearchRelevanceModule:()=>M});var d=o(36895),g=o(29197),h=o(66166),p=o(56622),_=o(93179),e=o(94650),u=o(22404),x=o(51483),b=o(65728),v=o(51572),k=o(72369),C=o(43416);function m(i,l){1&i&&(e.TgZ(0,"div",2),e._UZ(1,"mat-spinner",3),e.TgZ(2,"span",4),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"sa_please_wait")))}function P(i,l){if(1&i){const n=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",6),e._uU(3),e.ALo(4,"translate"),e.TgZ(5,"span",7),e.NdJ("click",function(){e.CHM(n);const t=e.oxw();return e.KtG(t.openUserMetaTagsSlider())}),e.ALo(6,"translate"),e._UZ(7,"i",8),e.qZA()(),e.TgZ(8,"div",9),e._uU(9),e.ALo(10,"translate"),e.qZA()(),e.TgZ(11,"div",10)(12,"span",11),e._uU(13),e.qZA(),e.TgZ(14,"app-range-slider",12),e.NdJ("valueEvent",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.valueEvent(t,a.weightModal))}),e.qZA(),e.TgZ(15,"span",13),e._uU(16),e.qZA()(),e.TgZ(17,"div",14),e._UZ(18,"div",15),e.TgZ(19,"div",16)(20,"div",17),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"div",18),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.TgZ(26,"div",19)(27,"label",20)(28,"input",21),e.NdJ("change",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.silderValuechanged(t,"enable"))}),e.qZA(),e.TgZ(29,"div",22)(30,"span",23),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"span",24),e._uU(34),e.ALo(35,"translate"),e.qZA()()()(),e.TgZ(36,"div",25)(37,"div",26)(38,"div",27)(39,"input",28),e.NdJ("change",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.silderValuechanged(t,"subject"))}),e.qZA(),e.TgZ(40,"label",29),e._uU(41),e.ALo(42,"translate"),e.qZA(),e.TgZ(43,"div",30),e._uU(44),e.ALo(45,"translate"),e.qZA()(),e.TgZ(46,"div",27)(47,"input",31),e.NdJ("change",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.silderValuechanged(t,"object"))}),e.qZA(),e.TgZ(48,"label",32),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.TgZ(51,"div",30),e._uU(52),e.ALo(53,"translate"),e.qZA()(),e.TgZ(54,"div",27)(55,"input",33),e.NdJ("change",function(t){e.CHM(n);const a=e.oxw();return e.KtG(a.silderValuechanged(t,"verb"))}),e.qZA(),e.TgZ(56,"label",34),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.TgZ(59,"div",30),e._uU(60),e.ALo(61,"translate"),e.qZA()()()()(),e.BQk()}if(2&i){const n=e.oxw();e.xp6(3),e.hij("",e.lcZ(4,23,"search_settings_search_relevance_threshold_match")," "),e.xp6(2),e.s9C("ngbTooltip",e.lcZ(6,25,"contentSource_topic_guide")),e.Q6J("container","body"),e.xp6(4),e.Oqu(e.lcZ(10,27,"search_settings_search_relevance_define_perecent_tokens")),e.xp6(4),e.hij("",n.weightModal.sliderObj.minVal,"%"),e.xp6(1),e.Q6J("customClass","weightsSlider")("addTextToTooltip","%")("allData",n.weightModal.sliderObj),e.xp6(2),e.hij("",n.weightModal.sliderObj.maxVal,"%"),e.xp6(5),e.Oqu(e.lcZ(22,29,"search_settings_search_relevance_title")),e.xp6(3),e.Oqu(e.lcZ(25,31,"search_settings_search_relevance_configure_search_relevance")),e.xp6(4),e.Q6J("checked",n.searchrelevanceToggle),e.xp6(3),e.Oqu(e.lcZ(32,33,"search_settings_search_relevance_disable")),e.xp6(3),e.Oqu(e.lcZ(35,35,"search_settings_search_relevance_enable")),e.xp6(5),e.Q6J("checked",null==n.searchRelevanceConfig?null:n.searchRelevanceConfig.subject),e.xp6(2),e.Oqu(e.lcZ(42,37,"search_settings_search_relevance_subject")),e.xp6(3),e.Oqu(e.lcZ(45,39,"search_settings_search_relevance_subject_desc")),e.xp6(3),e.Q6J("checked",null==n.searchRelevanceConfig?null:n.searchRelevanceConfig.object),e.xp6(2),e.Oqu(e.lcZ(50,41,"search_settings_search_relevance_object")),e.xp6(3),e.Oqu(e.lcZ(53,43,"search_settings_search_relevance_object_desc")),e.xp6(3),e.Q6J("checked",null==n.searchRelevanceConfig?null:n.searchRelevanceConfig.verb),e.xp6(2),e.Oqu(e.lcZ(58,45,"search_settings_search_relevance_verb")),e.xp6(3),e.Oqu(e.lcZ(61,47,"search_settings_search_relevance_verb_desc"))}}const f=[{path:"",component:(()=>{class i{constructor(n,c,t,a){this.workflowService=n,this.appSelectionService=c,this.notificationService=t,this.service=a,this.isLoading=!1,this.weightModal={fieldName:"",fieldDataType:"",fieldId:"",sliderObj:{minVal:0,maxVal:100,step:1,default:0,id:"matchThreshold0",key:"",enable:!0}},this.selectedLanguage="en",this.disableCancle=!0}ngOnInit(){this.selectedApp=this.workflowService.selectedApp(),this.serachIndexId=this.selectedApp.searchIndexes[0]._id,this.indexPipelineId=this.workflowService.selectedIndexPipeline(),this.queryPipelineId=this.workflowService.selectedQueryPipeline()?this.workflowService.selectedQueryPipeline()._id:"",this.indexPipelineId&&this.queryPipelineId&&this.prepareThreshold("menu"),this.querySubscription=this.appSelectionService.queryConfigSelected.subscribe(n=>{this.indexPipelineId=this.workflowService.selectedIndexPipeline(),this.queryPipelineId=this.workflowService.selectedQueryPipeline()?this.workflowService.selectedQueryPipeline()._id:"",this.prepareThreshold("menu")})}openUserMetaTagsSlider(){this.appSelectionService.topicGuideShow.next(void 0)}prepareThreshold(n){const c={searchIndexID:this.serachIndexId,queryPipelineId:this.queryPipelineId,indexPipelineId:this.indexPipelineId};"menu"==n&&(this.isLoading=!0),this.service.invoke("get.queryPipeline",c).subscribe(t=>{this.isLoading=!1,this.searchrelevancedata=t.settings.searchRelevance,this.searchrelevanceToggle=t.settings.searchRelevance.enable,this.searchRelevanceConfig=t.settings.searchRelevance.languages.find(S=>S.languageCode==this.selectedLanguage);const s={fieldName:"matchThreshold".replace(/[^\w]/gi,""),fieldDataType:"number",fieldId:"matchThreshold",sliderObj:new _.U(0,100,1,this.searchrelevancedata.matchThreshold,"matchThreshold0","",!0)};this.weightModal=s},t=>{this.notificationService.notify("failed to get querypipeline details","error")})}getUpdateItem(n,c){return this.searchrelevancedata.languages.map(t=>t.languageCode===this.selectedLanguage?{...t,[n]:c.target.checked}:t)}silderValuechanged(n,c){const t={indexPipelineId:this.workflowService.selectedIndexPipeline(),queryPipelineId:this.workflowService.selectedQueryPipeline()?this.workflowService.selectedQueryPipeline()._id:"",searchIndexId:this.serachIndexId};this.slider_value_payload=!!$("#sa_slider_enable_disable:checkbox:checked").length;const a={settings:{searchRelevance:{enable:this.slider_value_payload,languages:this.getUpdateItem(c,n)}}};this.service.invoke("put.queryPipeline",t,a).subscribe(s=>{this.searchrelevancedata.enable=s?.settings?.searchRelevance?.enable,this.notificationService.notify("enable"===c?this.searchrelevancedata.enable?"Search Relevance Enabled":"Search Relevance Disabled":"Search Relevance Language keys updated","success"),this.prepareThreshold("self")},s=>{this.notificationService.notify("Failed to update","error")})}valueEvent(n,c){const t={indexPipelineId:this.workflowService.selectedIndexPipeline(),queryPipelineId:this.workflowService.selectedQueryPipeline()?this.workflowService.selectedQueryPipeline()._id:"",searchIndexId:this.serachIndexId};this.service.invoke("put.queryPipeline",t,{settings:{searchRelevance:{matchThreshold:n}}}).subscribe(s=>{},s=>{this.notificationService.notify("Failed to update","error")})}ngOnDestroy(){this.querySubscription&&this.querySubscription.unsubscribe()}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(u.z),e.Y36(h.n),e.Y36(x.g),e.Y36(p.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search-relevance"]],decls:2,vars:2,consts:[["class","mainLoadingSpinner",4,"ngIf"],[4,"ngIf"],[1,"mainLoadingSpinner"],["diameter","18","strokeWidth","2"],[1,"please-wait-message"],["id","sa_widget_header",1,"widget-header-block"],["id","sa_widget_header-sec",1,"widget-header"],["tooltipClass","tooltip-global-","placement","right-center",1,"module-topic",3,"container","ngbTooltip","click"],[1,"si-topic-guide-1"],["id","sa_widget_header_desc",1,"widget-desc"],["id","sa_container_block",1,"slider-container-block"],["id","sa_slider_val_min",1,"sliderVal","mr-3"],[3,"customClass","addTextToTooltip","allData","valueEvent"],["id","sa_slider_val_max",1,"sliderVal","ml-3"],["id","sa_landing_page_block",1,"landing-page-block"],[1,"block-separate-line"],["id","sa_widget_header_block_sec_2",1,"widget-header-block"],["id","sa_search_relevance_title",1,"widget-header"],["id","sa_search_relevance_desc",1,"widget-desc"],["id","sa_landing_page_toggle",1,"landing-page-toggle"],[1,"kr-sg-toggle","with-label"],["type","checkbox","id","sa_slider_enable_disable",3,"checked","change"],["id","sa_slider",1,"slider"],["id","sa_disable_text",1,"no"],["id","sa_enable_text",1,"yes"],["id","sa_checkbox_desc_block",1,"checkbox-with-desc-block","disable-actionlinks"],["id","sa_group_checkbox",1,"group-checkbox"],[1,"kr-sg-checkbox","d-block"],["id","checkbox_grp1","type","checkbox",1,"checkbox-custom",3,"checked","change"],["for","checkbox_grp1",1,"checkbox-custom-label"],[1,"checkbox-custom-desc"],["id","checkbox_grp2","type","checkbox",1,"checkbox-custom",3,"checked","change"],["for","checkbox_grp2",1,"checkbox-custom-label"],["id","checkbox_grp3","type","checkbox",1,"checkbox-custom",3,"checked","change"],["for","checkbox_grp3",1,"checkbox-custom-label"]],template:function(n,c){1&n&&(e.YNc(0,m,5,3,"div",0),e.YNc(1,P,62,49,"ng-container",1)),2&n&&(e.Q6J("ngIf",c.isLoading),e.xp6(1),e.Q6J("ngIf",!c.isLoading))},dependencies:[d.O5,b._L,v.Ou,k.A,C.X$],styles:[".widget-header-block[_ngcontent-%COMP%]{padding:35px 20px 15px 35px}.widget-header-block[_ngcontent-%COMP%]   .widget-header[_ngcontent-%COMP%]{font-weight:500;font-size:18px;line-height:17px;color:#121314;padding-bottom:10px}.widget-header-block[_ngcontent-%COMP%]   .widget-desc[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:15px;color:#777a80}.slider-container-block[_ngcontent-%COMP%]{padding:0 20px 0 35px;display:flex}.slider-container-block[_ngcontent-%COMP%]   .sliderVal[_ngcontent-%COMP%]{font-family:Inter!important;font:unset}.block-separate-line[_ngcontent-%COMP%]{border-bottom:1px solid #E3E4E6}.landing-page-block[_ngcontent-%COMP%]{padding:35px 20px 15px 35px}.landing-page-block[_ngcontent-%COMP%]   .widget-header-block[_ngcontent-%COMP%]{padding:35px 0 15px}.landing-page-block[_ngcontent-%COMP%]   .widget-header-block[_ngcontent-%COMP%]   .widget-header[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:17px;color:#121314;padding-bottom:10px}.landing-page-block[_ngcontent-%COMP%]   .widget-header-block[_ngcontent-%COMP%]   .widget-desc[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:15px;color:#777a80}.landing-page-block[_ngcontent-%COMP%]   .landing-page-toggle[_ngcontent-%COMP%]{padding:0 20px 35px 0}.landing-page-block[_ngcontent-%COMP%]   .landing-page-toggle[_ngcontent-%COMP%]   .kr-sg-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:checked) + .slider[_ngcontent-%COMP%]   span.no[_ngcontent-%COMP%]{color:#202124}.landing-page-block[_ngcontent-%COMP%]   .landing-page-toggle[_ngcontent-%COMP%]   .kr-sg-toggle.with-label[_ngcontent-%COMP%]{margin-left:49px}.landing-page-block[_ngcontent-%COMP%]   .landing-page-toggle[_ngcontent-%COMP%]   .kr-sg-toggle.with-label[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .no[_ngcontent-%COMP%]{margin-left:-49px}.landing-page-block[_ngcontent-%COMP%]   .checkbox-with-desc-block[_ngcontent-%COMP%]{padding:20px;background:#F7F9FA;border-radius:4px;margin-bottom:30px}.landing-page-block[_ngcontent-%COMP%]   .checkbox-with-desc-block[_ngcontent-%COMP%]   .group-checkbox[_ngcontent-%COMP%]   .kr-sg-checkbox[_ngcontent-%COMP%]{border-bottom:1px solid #E3E4E6;margin-bottom:15px}.landing-page-block[_ngcontent-%COMP%]   .checkbox-with-desc-block[_ngcontent-%COMP%]   .group-checkbox[_ngcontent-%COMP%]   .kr-sg-checkbox[_ngcontent-%COMP%]   .checkbox-custom-desc[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:15px;color:#777a80;padding:10px 0 15px 30px}.landing-page-block[_ngcontent-%COMP%]   .checkbox-with-desc-block[_ngcontent-%COMP%]   .group-checkbox[_ngcontent-%COMP%]   .kr-sg-checkbox[_ngcontent-%COMP%]:last-child{margin-bottom:0;border-bottom:1px solid transparent}.landing-page-block[_ngcontent-%COMP%]   .checkbox-with-desc-block[_ngcontent-%COMP%]   .group-checkbox[_ngcontent-%COMP%]   .kr-sg-checkbox[_ngcontent-%COMP%]:last-child   .checkbox-custom-desc[_ngcontent-%COMP%]{padding:10px 0 0 30px}.weightsSlider[_ngcontent-%COMP%]   .single-slider[_ngcontent-%COMP%]{margin-bottom:0!important;width:100%!important}.weightsSlider[_ngcontent-%COMP%]   .single-slider[_ngcontent-%COMP%]   .slider-selection[_ngcontent-%COMP%]{background:#0D6EFD!important;box-shadow:none}.weightsSlider[_ngcontent-%COMP%]   .countThreshold[_ngcontent-%COMP%]{display:none}.weightsSlider[_ngcontent-%COMP%]   .slider-track[_ngcontent-%COMP%]{box-shadow:none!important}.weightsSlider[_ngcontent-%COMP%]   .slider-horizontal[_ngcontent-%COMP%]{width:100%}.weightsSlider[_ngcontent-%COMP%]   .slider-horizontal[_ngcontent-%COMP%]   .slider-tick[_ngcontent-%COMP%], .weightsSlider[_ngcontent-%COMP%]   .slider-horizontal[_ngcontent-%COMP%]   .slider-handle[_ngcontent-%COMP%]{top:-9px;background:#0D6EFD!important;width:20px;height:20px;box-shadow:0 .25px 1px #07377f40,0 .85px 3px #00000030;border:0}[_nghost-%COMP%]     .weightsSlider .single-slider .slider-selection{background:#0D6EFD!important;box-shadow:none!important}[_nghost-%COMP%]     .weightsSlider .countThreshold{display:none}[_nghost-%COMP%]     .weightsSlider .slider-track{height:2px!important;margin-top:0!important}[_nghost-%COMP%]     .weightsSlider .slider-horizontal{width:180px}[_nghost-%COMP%]     .weightsSlider .slider-horizontal .slider-tick{background:#0D6EFD!important;width:10px;height:10px;top:-1px}[_nghost-%COMP%]     .weightsSlider .slider-horizontal .slider-handle{background:#0D6EFD!important;width:10px;height:10px;top:-1px}  app-range-slider .thresholdDir .single-slider{width:330px;margin-bottom:0}  app-range-slider .thresholdDir .single-slider .slider.slider-horizontal{width:330px;height:6px}.disable-actionlinks[_ngcontent-%COMP%]{opacity:.251;pointer-events:none}"]}),i})()}];let O=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[g.Bz.forChild(f),g.Bz]}),i})();var w=o(48863);let M=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,O,w.V]}),i})()}}]);