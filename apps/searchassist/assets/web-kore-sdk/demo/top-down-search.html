<html>
<head>
    <title>SearchAssist.ai - Search</title>
    <script src="libs/kore-no-conflict-start.js" type="text/javascript"></script>
    <script src="../libs/uuid.min.js"></script>
    <script src="libs/jquery.js" type="text/javascript"></script>
    <script src="libs/jquery.tmpl.min.js" type="text/javascript"></script>
    <script src="libs/jquery-ui.min.js" type="text/javascript"></script>
    <link href="libs/jquery-ui.min.css" rel="stylesheet"></link>
    <script src="../kore-bot-sdk-client.js"></script>
    <script src="libs/pubsub.js"></script>
    <script src="../libs/perfect-scrollbar.js" type="text/javascript"></script><!--findly sdk file-->
    <link href="../libs/prefect-scrollbar.css" rel="stylesheet"></link>
    <script src="findly/findly-sdk.js" type="text/javascript"></script><!--findly sdk file-->
    <!--findly sdk css file-->
    <!-- <link href="findly/findly-sdk.css" rel="stylesheet"></link> -->
    <!--findly sdk demo file-->
    <!-- <link href="findly/findly-demo.css" rel="stylesheet"></link> -->
    <link href="../libs/purejscarousel.css" rel="stylesheet"></link>
    <script src="../libs/lodash.min.js"></script>
    <script src="../libs/purejscarousel.js" type="text/javascript"></script>
    <script src="findly/findly-config.js" type="text/javascript"></script>
    <script src="libs/kore-no-conflict-end.js" type="text/javascript"></script>
    <link href="fonts/inter.css" rel="stylesheet"></link>
    <link href="findly/findly-sdk.css" rel="stylesheet"></link>
    <link href="css/top-search.css" rel="stylesheet"></link>    
</head>
<body>
        <div class="topdown-search-main-container">
            <div class="logo_img">
                <img src="data:image/png;base64,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">
            </div>
            <div id="heading" class="search-input-box">      
                <div id="search-box-container" class="search-box-container-data">
                    <div class="search-icon">
                        <img src="images/search-icon.png"/>
                    </div>
                    <div class="cancel-search">
                        <img src="images/cancel.png"/>
                    </div>
                </div>   
                <div id="frequently-searched-box" class="frequently_searched_box"> </div>          
                <div id="live-search-result-box" class="live_search_result_box">
                    <div id="auto-query-box" class="auto_query_box">
                        <!-- suggestion query result-->
                    </div>
                    <div class="data-container">
                        <!-- <div id="faq-query-container"> -->
                            <!-- faq query result-->
                        <!-- </div> -->
                        <div class="faqs-data-container">
                        </div>
                        <div class="pages-data-container">
                        </div>
                        <div class="structured-data-container">
                        </div>
                        
                    </div>
                </div>    
                
                <div id="conversation-container" class="conversation-container">
                    <div class="conversation-title">                
                        <div class="close-conv">
                            <img class="close-conv-icon" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACdSURBVHgBbZHRDcIwDERju+zTSizSCWgl8sFM+Ug26AwsUDIGO9A05AChprV/osjPd2eZLtfbg2gZg3PRKDUMts3SeAaUV5kGa1sVYpkoLaPEeX525+4OGC/+FbSmPgQX6T9dFAETp968jNlC6FNl9YNNLo0NhOIqVFEC9Bk/1Xn5ELwowX6/oGjBtQVpD2mZ4cBZ2GsQCkf4xmj8GzsLeh0gnVcbAAAAAElFTkSuQmCC" />
                        </div>
                    </div>            
                    <div id="conversations" class="conversations">
                        <!-- <div id="action-title"></div> -->
                        <div id="conversation-body">
                            <!-- all conversations happen here -->
                        </div>
                    </div>
                    <div id="conversation-box-container" class="conv">
                        <!-- conversation text box here-->
                    </div>
                </div>
            </div>
                

            <div class="all-result-container">
                <div id="loaderDIV" class="loader-container">Loading...</div>
                <div class="full-results-data-container">
                    <div id="filters-left-sec"></div>
                  <div class="all-product-details ">
                        <div id="top-down-tab-sec"></div>
                        <div id="filters-center-sec" > </div>
                        <div class="filters-added-data" id="show-filters-added-data">
                           </div>
                        <div class="content-data-sec">
                            <div class="faqs-search-data-container">
                            </div>
                            <div class="pages-search-data-container">
                            </div>
                            <div class="structured-search-data-container">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
        
    
    <script type="text/javascript">
    
        var findlyConfig=window["KoreSDK"].findlyConfig;
        findlyConfig.baseAPIServer = 'http://localhost:4200';
        var findlySdk = new FindlySDK(findlyConfig);
        $('#conversation-container').hide();
        $('.show-result').hide();
        findlyConfig.autoConnect = true;
        findlySdk.initialize(findlyConfig);
        findlySdk.initializeTopSearchTemplate();
        findlySdk.addSearchText({
            container : "search-box-container",
            classes : 'search-input',
            placeholder : "Search here",
            showGreeting : false,
            microphone : true,
            defaultMicrophone : false,
            hideSearchIcon : true,
            autoSuggest : true,
            showButton : false,
            focusHandler : focusHandler
        });
    
        findlySdk.addSearchResult({
            pageContainer : 'pages-container',
            pageTemplateId : 'page-template',
            faqContainer : 'mostly-asked-container',
            faqTemplateId : 'faq-template',
            actionContainer : 'actions-container',
            actionTemplateId : 'actions-template',
            structuredDataContainer : '.structured-data-container',
            actionHandler : actionHandler,
            searchHandler : searchHandler
        })
    
        findlySdk.addSourceType({
            container : 'top-down-tab-sec',
            templateId : 'top-down-tabs-template',
            selectedClass : 'active-tab',
            unSelectedClass : 'un-selected-type'
        })
        findlySdk.addConversationBox({
            container : "conversation-box-container",
            classes : 'conv-input',
        });
        findlySdk.addConversationContainer({
            container: "conversation-body"
        });
        findlySdk.addFrequentlyUsedControl({
                container: "frequently-searched-box",
                templateId:"frequently-searched-template"
            });
        findlySdk.addCustomTemplateConfig();
        var searchText = "";
        function searchHandler(data) {
            var size = data.documents.length + data.pages.length + data.faqs.length + data.tasks.length;
            if (data.originalQuery) {
                searchText = data.originalQuery;
            }
            var text = 'Showing ' + size + ' results for "' + searchText  + '"';
            $("#show-result").empty().append(text).show();
        }
    
        function actionHandler(e) {
            // findlySdk.addConversationContainer({
            //     container: "conversation-body"
            // });
            $('#conversation-container').show();
            $('#action-title').empty();
            findlySdk.setActionTitle(e.target.getAttribute('title'), 'action-title');
        }
    
        $(".close-conv-icon").off('click').on('click', function (e) {
            closeConversation();
            });
            function closeConversation() {
            $('#conversation-container').hide();
            $('#action-title').empty();
            $("#searchChatContainer").empty();
            }
            function focusHandler() {
            closeConversation();
            }
    </script>
    <script id="source-type-template" type="text/x-jqury-tmpl">
            {{each(key, facet) facets }}
                <a class="capital un-selected-type facet" id="{{= facet.key}}" href="#home" data-toggle="tab">
                    {{= getFacetDisplayName(facet.key)}} ({{= facet.value}})
                </a>
            {{/each}}
    
    
    
            <div class="filter"> 
                <div class="filter-icon ">
                    <img src="images/filter.png"/>
                </div>
                <div class="filter-title">
                    Filters
                </div>
                
            </div>
    </script>
    <script id="page-template" type="text/x-jqury-tmpl">
            {{if pages.length > 0 }}
                <div class="type-section related-pages">
                    Related Pages
                </div>
                <div class="pages">
                    {{each(key, result) pages }}
                        {{if (key < 5) }}
                            <div class="page">
                                ${result.pageTitle}
                                <div class="arrow">
                                    <img src="images/arrow.png"/>
                                </div>
                            </div>
                        {{/if}}
                    {{/each}}
                    {{if pages.length > 5 }}
                        <div class="more">
                            Show More
                        </div>
                    {{/if}}
                </div>
            {{/if}}
    </script>
    <script id="faq-template" type="text/x-jqury-tmpl">
        {{if faqs.length > 0 }}
            <div class="type-section mostly-asked">
                Mostly Asked
            </div>
            <div class="faqs">
                {{each(key, result) faqs }}
                    {{if (key < 5) }}
                        <div class="page">
                            <div class="expand">
                                <img src="images/expand.png"/>
                            </div>
                            ${result.question}
                        </div>
                    {{/if}}
                {{/each}}
                
                {{if faqs.length > 5 }}
                    <div class="more">
                        Show All
                    </div>
                {{/if}}
            </div>
        {{/if}}
    </script>
    <script id="actions-template" type="text/x-jqury-tmpl">
        {{if tasks.length > 0 }}
            <div class="type-section quick-actions">
                Quick Actions
            </div>
            <div class="actions">
                {{each(key, task) tasks}}
                <div class="actions-container">
                    <div class="action-icon">
                        <img src="images/action-icon.png"/>
                    </div>
                    <div class="action">
                        <div class="action-text creditCardDetails search-task bot-action" title="${task.taskName}" contentId="${task.taskId}" contentType="${task.contentType}" childBotId="${task.childBotId}" childBotName="${task.childBotName}" id="${key}" payload="${task.payload}">
                            ${task.titleText}
                        </div>
                        <div class="task-text">
                            ${task.text}
                        </div>
                    </div>
                </div>
              {{/each}}
            </div>
        {{/if}}
    </script>
    <script id="frequently-searched-template" type="text/x-jqury-tmpl">
  
            {{if recents && recents.length}}
            <div class="templates-data">
                <div class="main-title">FREQUENTLY SEARCHED</div>
                <div class="tile_with_header">
                    {{each(key, recent) recents }}
                    {{if recent}}
                    <a class="tile-title recentText" id="${recent}">${recent}</a>
                    {{/if}}
                    {{/each}}
                  </div>
            </div>
            {{/if}}
    </script>
    <script id="top-down-tabs-template" type="text/x-jqury-tmpl">
        <div class="tab-sec">
            {{each(key, facet) facets }}
            <div class="tab-name  capital un-selected-type facet" id="{{= facet.key}}" apperance="{{= facet.key}}"> {{= getFacetDisplayName(facet.key)}} ({{= facet.value}})</div>
            {{/each}}
        </div>
</script>
    </html>

    