"use strict";(self.webpackChunksearchassist=self.webpackChunksearchassist||[]).push([[724],{8724:(C,l,o)=>{o.r(l),o.d(l,{BotActionsModule:()=>y});var d=o(36895),r=o(29197),g=o(66166),p=o(56622),e=o(94650),u=o(22404),h=o(51483),_=o(65728),b=o(51572),x=o(43416);function m(n,a){1&n&&(e.TgZ(0,"div",2),e._UZ(1,"mat-spinner",3),e.TgZ(2,"span",4),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"sa_please_wait")))}function f(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"span",8),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.openUserMetaTagsSlider())}),e.ALo(7,"translate"),e._UZ(8,"i",9),e.qZA()(),e.TgZ(9,"div",10),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",11)(13,"label",12)(14,"input",13),e.NdJ("change",function(c){e.CHM(t);const s=e.oxw();return e.KtG(s.silderValuechanged(c))}),e.qZA(),e.TgZ(15,"div",14)(16,"span",15),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"span",16),e._uU(20),e.ALo(21,"translate"),e.qZA()()()(),e._UZ(22,"div",17)(23,"hr",18),e.TgZ(24,"div",19)(25,"div",20),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"div",21),e._uU(29),e.ALo(30,"translate"),e.qZA()(),e.TgZ(31,"div",22)(32,"div",23)(33,"div",24)(34,"input",25),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.selectRadiobutton("execute"))}),e.qZA(),e.TgZ(35,"label",26),e._uU(36),e.ALo(37,"translate"),e.qZA()(),e.TgZ(38,"div",27)(39,"input",28),e.NdJ("click",function(){e.CHM(t);const c=e.oxw();return e.KtG(c.selectRadiobutton("dontexecute"))}),e.qZA(),e.TgZ(40,"label",29),e._uU(41),e.ALo(42,"translate"),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.hij("",e.lcZ(5,13,"search_settingsa_bot_actions")," "),e.xp6(2),e.s9C("ngbTooltip",e.lcZ(7,15,"contentSource_topic_guide")),e.Q6J("container","body"),e.xp6(4),e.Oqu(e.lcZ(11,17,"search_settings_bot_action_desc")),e.xp6(4),e.Q6J("checked",null==t.botactionsdata?null:t.botactionsdata.enable),e.xp6(3),e.Oqu(e.lcZ(18,19,"search_settings_disable")),e.xp6(3),e.Oqu(e.lcZ(21,21,"search_settings_bot_action_enable")),e.xp6(6),e.Oqu(e.lcZ(27,23,"search_settings_bot_action_behavior")),e.xp6(3),e.Oqu(e.lcZ(30,25,"search_settings_enable_disable_desc")),e.xp6(5),e.Q6J("checked",null==t.botactionsdata?null:t.botactionsdata.executeIntents),e.xp6(2),e.Oqu(e.lcZ(37,27,"search_settings_bot_action_auto_execute_win_intent")),e.xp6(3),e.Q6J("checked",!(null!=t.botactionsdata&&t.botactionsdata.executeIntents)),e.xp6(2),e.Oqu(e.lcZ(42,29,"search_settings_bot_action_do_not_win_intent"))}}const k=[{path:"",component:(()=>{class n{constructor(t,i,c,s){this.workflowService=t,this.appSelectionService=i,this.notificationService=c,this.service=s,this.isLoading=!1}ngOnInit(){this.selectedApp=this.workflowService.selectedApp(),this.serachIndexId=this.selectedApp.searchIndexes[0]._id,this.indexPipelineId=this.workflowService.selectedIndexPipeline(),this.queryPipelineId=this.workflowService.selectedQueryPipeline()?this.workflowService.selectedQueryPipeline()._id:"",this.indexPipelineId&&this.queryPipelineId&&this.getQuerypipeline(),this.querySubscription=this.appSelectionService.queryConfigSelected.subscribe(t=>{this.indexPipelineId=this.workflowService.selectedIndexPipeline(),this.queryPipelineId=this.workflowService.selectedQueryPipeline()?this.workflowService.selectedQueryPipeline()._id:"",this.getQuerypipeline()})}openUserMetaTagsSlider(){this.appSelectionService.topicGuideShow.next(void 0)}getQuerypipeline(){const t={searchIndexID:this.serachIndexId,queryPipelineId:this.queryPipelineId,indexPipelineId:this.indexPipelineId};this.isLoading=!0,this.service.invoke("get.queryPipeline",t).subscribe(i=>{this.botactionsdata=i.settings.botActions,this.isLoading=!1},i=>{this.notificationService.notify("failed to get querypipeline details","error")})}silderValuechanged(t){console.log(t);const i={indexPipelineId:this.workflowService.selectedIndexPipeline(),queryPipelineId:this.workflowService.selectedQueryPipeline()?this.workflowService.selectedQueryPipeline()._id:"",searchIndexId:this.serachIndexId};this.service.invoke("put.queryPipeline",i,{settings:{botActions:{enable:t.currentTarget.checked}}}).subscribe(s=>{this.botactionsdata.enable=s.settings.botActions.enable,this.notificationService.notify(this.botactionsdata.enable?"Bot Action Enabled":"Bot Action Disabled","success")},s=>{this.notificationService.notify("Failed to update","error")})}selectRadiobutton(t){const i={indexPipelineId:this.workflowService.selectedIndexPipeline(),queryPipelineId:this.workflowService.selectedQueryPipeline()?this.workflowService.selectedQueryPipeline()._id:"",searchIndexId:this.serachIndexId};this.service.invoke("put.queryPipeline",i,{settings:{botActions:{executeIntents:"execute"==t}}}).subscribe(s=>{this.botactionsdata.enable=s.settings.botActions.enable,this.notificationService.notify("updated successfully","success")},s=>{this.notificationService.notify("Failed to update","error")})}ngOnDestroy(){this.querySubscription&&this.querySubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.z),e.Y36(g.n),e.Y36(h.g),e.Y36(p.Q))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-bot-actions"]],inputs:{selectedcomponent:"selectedcomponent"},decls:2,vars:2,consts:[["class","mainLoadingSpinner",4,"ngIf"],[4,"ngIf"],[1,"mainLoadingSpinner"],["diameter","18","strokeWidth","2"],[1,"please-wait-message"],[1,"landing-page-common-block"],["id","sa_widget_hedaer",1,"widget-header-block"],[1,"widget-header"],["tooltipClass","tooltip-global-","placement","right-center",1,"module-topic",3,"container","ngbTooltip","click"],[1,"si-topic-guide-1"],[1,"widget-desc"],["id","sa-land-page-toggle",1,"landing-page-toggle"],["id","sa-land-page-label",1,"kr-sg-toggle","with-label"],["type","checkbox","id","sa_checkbox_slider",3,"checked","change"],[1,"slider"],["id","sa_checkbox_no",1,"no"],["id","sa_checkbox_yes",1,"yes"],[1,"block-separate-line"],[1,"mb-0","mt-0"],["id","sa_widget_second_hedaer_block",1,"widget-header-block","second-header-block"],["id","sa_widget_heading_block",1,"widget-header"],["id","sa_widget_desc_block",1,"widget-desc"],[1,"bot-actions-radio-grp-block"],[1,"group-radiobutton"],[1,"kr-sg-radiobutton","d-block"],["id","auto_execute","name","radio","type","radio",1,"radio-custom",3,"checked","click"],["for","auto_execute",1,"radio-custom-label"],["id","sa_radio_button",1,"kr-sg-radiobutton","d-block"],["id","do_not_auto_execute","name","radio","type","radio",1,"radio-custom",3,"checked","click"],["for","do_not_auto_execute","id","sa_radio_button_label",1,"radio-custom-label"]],template:function(t,i){1&t&&(e.YNc(0,m,5,3,"div",0),e.YNc(1,f,43,31,"ng-container",1)),2&t&&(e.Q6J("ngIf",i.isLoading),e.xp6(1),e.Q6J("ngIf",!i.isLoading))},dependencies:[d.O5,_._L,b.Ou,x.X$],styles:[".landing-page-common-block[_ngcontent-%COMP%]{padding:0 20px 0 35px}.landing-page-common-block[_ngcontent-%COMP%]   .widget-header-block[_ngcontent-%COMP%]{padding:35px 0 15px}.landing-page-common-block[_ngcontent-%COMP%]   .widget-header-block.second-header-block[_ngcontent-%COMP%]{padding:25px 0 15px}.landing-page-common-block[_ngcontent-%COMP%]   .widget-header-block[_ngcontent-%COMP%]   .widget-header[_ngcontent-%COMP%]{font-weight:500;font-size:18px;line-height:17px;color:#121314;padding-bottom:10px}.landing-page-common-block[_ngcontent-%COMP%]   .widget-header-block[_ngcontent-%COMP%]   .widget-desc[_ngcontent-%COMP%]{font-weight:400;font-size:12px;line-height:15px;color:#777a80}.landing-page-common-block[_ngcontent-%COMP%]   .landing-page-toggle[_ngcontent-%COMP%]{padding:0 20px 25px 0}.landing-page-common-block[_ngcontent-%COMP%]   .landing-page-toggle[_ngcontent-%COMP%]   .kr-sg-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:checked) + .slider[_ngcontent-%COMP%]   span.no[_ngcontent-%COMP%]{color:#202124}.landing-page-common-block[_ngcontent-%COMP%]   .landing-page-toggle[_ngcontent-%COMP%]   .kr-sg-toggle.with-label[_ngcontent-%COMP%]{margin-left:49px}.landing-page-common-block[_ngcontent-%COMP%]   .landing-page-toggle[_ngcontent-%COMP%]   .kr-sg-toggle.with-label[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]   .no[_ngcontent-%COMP%]{margin-left:-49px}.landing-page-common-block[_ngcontent-%COMP%]   .application-type[_ngcontent-%COMP%]{padding-top:40px}.landing-page-common-block[_ngcontent-%COMP%]   .application-type[_ngcontent-%COMP%]   .application-type-header[_ngcontent-%COMP%]{font-weight:500;font-size:12px;line-height:15px;color:#000;padding-bottom:15px}.landing-page-common-block[_ngcontent-%COMP%]   .application-type[_ngcontent-%COMP%]   .application-type-block[_ngcontent-%COMP%]{background:#F0F1F2;border-radius:4px;height:240px}"]}),n})()}];let v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[r.Bz.forChild(k),r.Bz]}),n})();var P=o(48863);let y=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[d.ez,v,P.V]}),n})()}}]);